---
title: 'Examples & Use Cases'
description: 'Practical examples and integration scenarios'
---

# Examples & Use Cases

This section provides practical examples of how to use the R2P Prediction API in real-world scenarios.

## Fantasy Football Application

### Scenario: Building a Fantasy Football Injury Tracker

You're building a fantasy football app that needs to display injury status for players on a user's roster.

#### Step 1: Get All Players for Initial Load

```bash
curl -X GET https://ifpwy9pbk0.execute-api.us-east-1.amazonaws.com/prod/players
```

#### Step 2: Check Specific Player Status

```bash
curl -X POST \
  -H "Content-Type: application/json" \
  -d '{"player_id":"b4af6462-3e3a-49d5-9d96-482ad9f3c0c8"}' \
  https://ifpwy9pbk0.execute-api.us-east-1.amazonaws.com/prod/player
```

#### JavaScript Integration Example

```javascript
// Check if a player is injured
async function checkPlayerInjury(playerId) {
  try {
    const response = await fetch('https://ifpwy9pbk0.execute-api.us-east-1.amazonaws.com/prod/player', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ player_id: playerId })
    });
    
    const data = await response.json();
    
    if (data.success) {
      const player = data.data;
      
      // Determine if player is injured
      const isInjured = player.status !== 'Ready for Play';
      const injurySeverity = parseInt(player.injury_score);
      
      return {
        isInjured,
        status: player.status,
        injury: player.injury,
        severity: injurySeverity,
        position: player.position
      };
    }
  } catch (error) {
    console.error('Error checking player injury:', error);
  }
}

// Usage
const playerStatus = await checkPlayerInjury('b4af6462-3e3a-49d5-9d96-482ad9f3c0c8');
console.log(playerStatus);
```

## Sports Betting Application

### Scenario: Injury Impact on Betting Lines

You're building a sports betting app that needs to factor in player injuries when calculating odds.

#### Python Integration Example

```python
import requests
import json

def get_injured_players():
    """Get all players and filter for injured ones"""
    url = "https://ifpwy9pbk0.execute-api.us-east-1.amazonaws.com/prod/players"
    
    response = requests.get(url)
    data = response.json()
    
    if data['success']:
        players = data['data']
        injured_players = []
        
        for player in players:
            if player['est_return'] != 'Ready for Play':
                injured_players.append({
                    'name': player['player_name'],
                    'position': player['position'],
                    'injury': player['injury'],
                    'severity': player['player_injury_score']
                })
        
        return injured_players
    return []

def calculate_betting_impact(injured_players, team):
    """Calculate how injuries affect betting odds"""
    impact = 0
    
    for player in injured_players:
        if player['position'] in ['QB', 'RB', 'WR']:
            impact += player['severity'] * 0.1
    
    return impact
```

## Stats Prediction Application

### Scenario: Game Outcome Prediction for Fantasy Sports

You're building a fantasy sports app that needs to predict game outcomes based on player participation.

#### JavaScript Integration Example

```javascript
// Predict game outcome based on player participation
async function predictGameOutcome(playerName, opposingTeam, gameDetails = {}) {
  try {
    const response = await fetch('https://api.return2play.com/predict', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer YOUR_API_KEY'
      },
      body: JSON.stringify({
        player_name: playerName,
        opposing_team: opposingTeam,
        made_contribution: gameDetails.madeContribution || true,
        home_or_away: gameDetails.location || 'Home',
        game_month: gameDetails.month,
        game_week: gameDetails.week,
        game_day_of_week: gameDetails.dayOfWeek
      })
    });
    
    const data = await response.json();
    
    if (data.success) {
      return {
        winProbability: data.predictions.outcome_probabilities.Win,
        lossProbability: data.predictions.outcome_probabilities.Loss,
        tieProbability: data.predictions.outcome_probabilities.Tie,
        pointDifferential: data.predictions.point_differential,
        playerId: data.player_id
      };
    }
  } catch (error) {
    console.error('Error predicting game outcome:', error);
  }
}

// Usage
const prediction = await predictGameOutcome('Patrick Mahomes', 'BUF', {
  madeContribution: true,
  location: 'Home',
  month: 10,
  week: 40,
  dayOfWeek: 6
});

console.log(`Win probability: ${(prediction.winProbability * 100).toFixed(1)}%`);
console.log(`Point differential: ${prediction.pointDifferential.toFixed(1)}`);
```

#### Python Integration Example

```python
import requests
import json
from typing import Dict, Optional

class GamePredictionAPI:
    def __init__(self, api_key: str):
        self.api_key = api_key
        self.base_url = "https://api.return2play.com"
    
    def predict_game_outcome(self, player_name: str, opposing_team: str, 
                           made_contribution: bool = True, home_or_away: str = "Home",
                           game_month: Optional[int] = None, game_week: Optional[int] = None,
                           game_day_of_week: Optional[int] = None) -> Dict:
        """
        Predict game outcome based on player participation
        """
        url = f"{self.base_url}/predict"
        headers = {
            "Content-Type": "application/json",
            "Authorization": f"Bearer {self.api_key}"
        }
        
        payload = {
            "player_name": player_name,
            "opposing_team": opposing_team,
            "made_contribution": made_contribution,
            "home_or_away": home_or_away
        }
        
        # Add optional parameters if provided
        if game_month is not None:
            payload["game_month"] = game_month
        if game_week is not None:
            payload["game_week"] = game_week
        if game_day_of_week is not None:
            payload["game_day_of_week"] = game_day_of_week
        
        response = requests.post(url, json=payload, headers=headers)
        return response.json()
    
    def analyze_player_impact(self, player_name: str, opposing_teams: list) -> Dict:
        """
        Analyze a player's impact across multiple opponents
        """
        results = {}
        
        for team in opposing_teams:
            prediction = self.predict_game_outcome(player_name, team)
            
            if prediction.get('success'):
                results[team] = {
                    'win_probability': prediction['predictions']['outcome_probabilities']['Win'],
                    'point_differential': prediction['predictions']['point_differential']
                }
        
        return results

# Usage
api = GamePredictionAPI("YOUR_API_KEY")

# Single game prediction
prediction = api.predict_game_outcome("Lamar Jackson", "KC", made_contribution=True, home_or_away="Away")
print(f"Win probability: {prediction['predictions']['outcome_probabilities']['Win']:.1%}")

# Multi-team analysis
teams = ["BUF", "KC", "NE", "MIA"]
impact_analysis = api.analyze_player_impact("Patrick Mahomes", teams)

for team, stats in impact_analysis.items():
    print(f"{team}: {stats['win_probability']:.1%} win probability, {stats['point_differential']:.1f} point diff")
```

#### React Integration Example

```jsx
import React, { useState, useEffect } from 'react';

const GamePredictionComponent = ({ playerName, opposingTeam }) => {
  const [prediction, setPrediction] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const predictGame = async () => {
    setLoading(true);
    setError(null);
    
    try {
      const response = await fetch('https://api.return2play.com/predict', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer YOUR_API_KEY'
        },
        body: JSON.stringify({
          player_name: playerName,
          opposing_team: opposingTeam,
          made_contribution: true,
          home_or_away: 'Home'
        })
      });
      
      const data = await response.json();
      
      if (data.success) {
        setPrediction(data);
      } else {
        setError(data.error);
      }
    } catch (err) {
      setError('Failed to fetch prediction');
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    if (playerName && opposingTeam) {
      predictGame();
    }
  }, [playerName, opposingTeam]);

  if (loading) return <div>Loading prediction...</div>;
  if (error) return <div>Error: {error}</div>;
  if (!prediction) return <div>Enter player and team to get prediction</div>;

  const { outcome_probabilities, point_differential } = prediction.predictions;

  return (
    <div className="prediction-card">
      <h3>Game Prediction</h3>
      <div className="prediction-stats">
        <div className="stat">
          <label>Win Probability:</label>
          <span>{(outcome_probabilities.Win * 100).toFixed(1)}%</span>
        </div>
        <div className="stat">
          <label>Loss Probability:</label>
          <span>{(outcome_probabilities.Loss * 100).toFixed(1)}%</span>
        </div>
        <div className="stat">
          <label>Tie Probability:</label>
          <span>{(outcome_probabilities.Tie * 100).toFixed(1)}%</span>
        </div>
        <div className="stat">
          <label>Point Differential:</label>
          <span>{point_differential.toFixed(1)}</span>
        </div>
      </div>
    </div>
  );
};

export default GamePredictionComponent;
```

## News Application

### Scenario: Sports News Injury Updates

You're building a sports news app that needs to display injury updates and game predictions.

#### React Integration Example

```vue
<template>
  <div class="injury-dashboard">
    <h1>Team Injury Dashboard</h1>
    
    <div class="stats">
      <div class="stat-card">
        <h3>Total Players</h3>
        <p>{{ totalPlayers }}</p>
      </div>
      <div class="stat-card">
        <h3>Injured Players</h3>
        <p>{{ injuredPlayers.length }}</p>
      </div>
      <div class="stat-card">
        <h3>Ready to Play</h3>
        <p>{{ readyPlayers.length }}</p>
      </div>
    </div>

    <div class="player-list">
      <h2>Injured Players</h2>
      <div v-for="player in injuredPlayers" :key="player.player_id" class="player-card">
        <h3>{{ player.player_name }}</h3>
        <p><strong>Position:</strong> {{ player.position }}</p>
        <p><strong>Injury:</strong> {{ player.injury }}</p>
        <p><strong>Status:</strong> {{ player.est_return }}</p>
        <p><strong>Severity:</strong> {{ player.player_injury_score }}/157</p>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'InjuryDashboard',
  data() {
    return {
      players: [],
      loading: true
    }
  },
  computed: {
    totalPlayers() {
      return this.players.length;
    },
    injuredPlayers() {
      return this.players.filter(player => player.est_return !== 'Ready for Play');
    },
    readyPlayers() {
      return this.players.filter(player => player.est_return === 'Ready for Play');
    }
  },
  async mounted() {
    await this.fetchPlayers();
  },
  methods: {
    async fetchPlayers() {
      try {
        const response = await fetch('https://ifpwy9pbk0.execute-api.us-east-1.amazonaws.com/prod/players');
        const data = await response.json();
        
        if (data.success) {
          this.players = data.data;
        }
      } catch (error) {
        console.error('Error fetching players:', error);
      } finally {
        this.loading = false;
      }
    }
  }
}
</script>
```

## Dashboard Application

### Scenario: Team Management Dashboard

You're building a dashboard for team managers to track player availability.

#### Vue.js Integration Example

```vue
<template>
  <div class="injury-dashboard">
    <h1>Team Injury Dashboard</h1>
    
    <div class="stats">
      <div class="stat-card">
        <h3>Total Players</h3>
        <p>{{ totalPlayers }}</p>
      </div>
      <div class="stat-card">
        <h3>Injured Players</h3>
        <p>{{ injuredPlayers.length }}</p>
      </div>
      <div class="stat-card">
        <h3>Ready to Play</h3>
        <p>{{ readyPlayers.length }}</p>
      </div>
    </div>

    <div class="player-list">
      <h2>Injured Players</h2>
      <div v-for="player in injuredPlayers" :key="player.player_id" class="player-card">
        <h3>{{ player.player_name }}</h3>
        <p><strong>Position:</strong> {{ player.position }}</p>
        <p><strong>Injury:</strong> {{ player.injury }}</p>
        <p><strong>Status:</strong> {{ player.est_return }}</p>
        <p><strong>Severity:</strong> {{ player.player_injury_score }}/157</p>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'InjuryDashboard',
  data() {
    return {
      players: [],
      loading: true
    }
  },
  computed: {
    totalPlayers() {
      return this.players.length;
    },
    injuredPlayers() {
      return this.players.filter(player => player.est_return !== 'Ready for Play');
    },
    readyPlayers() {
      return this.players.filter(player => player.est_return === 'Ready for Play');
    }
  },
  async mounted() {
    await this.fetchPlayers();
  },
  methods: {
    async fetchPlayers() {
      try {
        const response = await fetch('https://ifpwy9pbk0.execute-api.us-east-1.amazonaws.com/prod/players');
        const data = await response.json();
        
        if (data.success) {
          this.players = data.data;
        }
      } catch (error) {
        console.error('Error fetching players:', error);
      } finally {
        this.loading = false;
      }
    }
  }
}
</script>
```

## Error Handling Examples

### Handling Player Not Found

```javascript
async function getPlayerStatus(playerId) {
  try {
    const response = await fetch('https://ifpwy9pbk0.execute-api.us-east-1.amazonaws.com/prod/player', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ player_id: playerId })
    });
    
    const data = await response.json();
    
    if (!data.success) {
      throw new Error(data.error || data.message);
    }
    
    return data.data;
  } catch (error) {
    if (error.message.includes('Player not found')) {
      console.log('Player not found in database');
      return null;
    }
    throw error;
  }
}
```

### Rate Limiting

```javascript
class APIClient {
  constructor() {
    this.requestCount = 0;
    this.lastReset = Date.now();
  }

  async makeRequest(url, options = {}) {
    // Check rate limits
    const now = Date.now();
    if (now - this.lastReset > 60000) { // 1 minute
      this.requestCount = 0;
      this.lastReset = now;
    }

    if (this.requestCount >= 100) {
      throw new Error('Rate limit exceeded. Please wait before making more requests.');
    }

    this.requestCount++;
    
    const response = await fetch(url, options);
    return response.json();
  }
}
``` 